MERGING FROM A REMOTE REPO

Some git workflows:

[1] https://www.kernel.org/pub/software/scm/git/docs/gitworkflows.html
[2] https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow

NOTE: When working with github, one must have git-1.7.10 or later.

  $Id$

Make sure you have a remote to what you want to merge from using

  git remote -v

If not, add one, e.g.,

  git remote add upstream https://github.com/svalinn/DAGMC.git

This is the PKG_UPSTREAM_URL in the pkg_aux.sh file.

Set the working branch:

  wbranch=(develop | master)

Make sure you are on the right branch

  git checkout $wbranch

If you do not yet have the branch you want to merge, fetch it.

  git fetch upstream $wbranch:upstream-$wbranch
  git branch --set-upstream-to=upstream/$wbranch upstream-$wbranch

Switch to the branch you want to merge and pull

  git checkout upstream-$wbranch
  git pull

Move back to develop branch

  git checkout $wbranch

Either merge or rebase to the upstream branch

  git merge upstream-$wbranch
OR
  git rebase upstream-$wbranch


Commit and push:

  git commit -am "MSG"
  git push


REBRANCHING FROM UPSTREAM

To rebranch, say, the branch dbranch=develop locally and remotely, make
sure you are not on that branch, then delete the branch.

  git branch -D $dbranch
  git push origin --delete $dbranch

Make sure you have the branch you want now to branch off of in your
local branches list, move to that branch
  git checkout upstream-$wbranch
  git checkout -b $dbranch
  git push origin $dbranch
For versioning, you can create an annotated tag on this branch
  git tag -a u20151031 -m "Tagging branch with date made from upstream."
  git push --tags

CREATING A BRANCH FROM AN UPSTREAM TAG FOR MODIFYING

# Get the tag
  git fetch upstream OCE-0.17:upstream-OCE-0.17
# Switch to it locally
  git checkout OCE-0.17
# Create local branch from it
  git checkout -b OCE-0.17-txc
# Push local branch to origin to have remote repo for mods
  git push -u origin OCE-0.17-txc


